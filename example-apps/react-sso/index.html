<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>React SSO Integration | AIgent</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/typescript.min.js"></script>
    <style>
        :root {
            --bg-primary: #0a0a0a;
            --bg-secondary: #1a1a1a;
            --bg-card: #1e1e1e;
            --text-primary: #ffffff;
            --text-secondary: #b0b0b0;
            --primary-color: #1a73e8;
            --secondary-color: #34a853;
            --border-color: #333333;
            --font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            --font-mono: 'JetBrains Mono', 'SF Mono', 'Monaco', monospace;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: var(--font-family);
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            padding: 2rem;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .header {
            margin-bottom: 3rem;
            padding-bottom: 2rem;
            border-bottom: 1px solid var(--border-color);
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, #1a73e8 0%, #4285f4 100%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .subtitle {
            color: var(--text-secondary);
            font-size: 1.125rem;
        }
        
        .nav-links {
            margin-top: 1.5rem;
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }
        
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.25s ease;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #1a73e8 0%, #4285f4 100%);
            color: white;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(26, 115, 232, 0.4);
        }
        
        .btn-secondary {
            background: transparent;
            color: var(--text-primary);
            border: 1px solid var(--border-color);
        }
        
        .btn-secondary:hover {
            background: var(--bg-secondary);
            border-color: var(--primary-color);
        }
        
        .section {
            margin-bottom: 3rem;
        }
        
        h2 {
            font-size: 1.875rem;
            margin-bottom: 1.5rem;
            color: var(--text-primary);
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .feature-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 0.75rem;
            padding: 1.5rem;
            transition: all 0.25s ease;
        }
        
        .feature-card:hover {
            transform: translateY(-2px);
            border-color: var(--primary-color);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }
        
        .feature-card h3 {
            color: var(--primary-color);
            margin-bottom: 0.75rem;
        }
        
        .feature-card p {
            color: var(--text-secondary);
        }
        
        .code-block {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 0.75rem;
            overflow: hidden;
            margin: 1.5rem 0;
        }
        
        .code-header {
            background: var(--bg-card);
            padding: 0.75rem 1rem;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .code-title {
            font-family: var(--font-mono);
            font-size: 0.875rem;
            color: var(--text-secondary);
        }
        
        .copy-btn {
            background: none;
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            cursor: pointer;
            font-size: 0.75rem;
            transition: all 0.15s ease;
        }
        
        .copy-btn:hover {
            background: var(--bg-primary);
            color: var(--text-primary);
        }
        
        pre {
            padding: 1rem;
            margin: 0;
            overflow-x: auto;
            font-family: var(--font-mono);
            font-size: 0.875rem;
            line-height: 1.5;
        }
        
        .alert {
            background: var(--bg-card);
            border: 1px solid var(--secondary-color);
            border-radius: 0.5rem;
            padding: 1rem;
            margin: 1.5rem 0;
        }
        
        .alert-title {
            color: var(--secondary-color);
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        
        .alert p {
            color: var(--text-secondary);
        }
        
        .footer {
            margin-top: 4rem;
            padding-top: 2rem;
            border-top: 1px solid var(--border-color);
            text-align: center;
            color: var(--text-secondary);
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>React SSO Integration</h1>
            <p class="subtitle">
                Production-ready React application with FusionAuth Single Sign-On, 
                featuring TypeScript, modern hooks, and enterprise authentication patterns
            </p>
            <div class="nav-links">
                <a href="../../" class="btn btn-secondary">‚Üê Back to Portfolio</a>
                <a href="https://github.com/JustinArndtAI/AIgent/tree/main/example-apps/react-sso" class="btn btn-primary" target="_blank">
                    View on GitHub
                </a>
            </div>
        </header>

        <section class="section">
            <h2>Overview</h2>
            <p style="color: var(--text-secondary); margin-bottom: 1.5rem;">
                This example demonstrates a complete Single Sign-On (SSO) implementation using React 18+ 
                with FusionAuth. Includes TypeScript support, modern React patterns, and production-ready 
                authentication flows.
            </p>

            <div class="feature-grid">
                <div class="feature-card">
                    <h3>‚öõÔ∏è Modern React</h3>
                    <p>Built with React 18+, TypeScript, and modern hooks for clean, maintainable code</p>
                </div>
                <div class="feature-card">
                    <h3>üîê Enterprise SSO</h3>
                    <p>Complete SSO implementation with PKCE, silent refresh, and cross-domain authentication</p>
                </div>
                <div class="feature-card">
                    <h3>üé® Beautiful UI</h3>
                    <p>Responsive design with loading states, error handling, and smooth transitions</p>
                </div>
            </div>
        </section>

        <section class="section">
            <h2>Quick Start</h2>
            <div class="code-block">
                <div class="code-header">
                    <span class="code-title">Terminal</span>
                    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                </div>
                <pre><code class="language-bash"># Clone the repository
git clone https://github.com/JustinArndtAI/AIgent.git
cd AIgent/example-apps/react-sso

# Install dependencies
npm install

# Configure environment
cp .env.example .env.local
# Edit .env.local with your FusionAuth configuration

# Start development server
npm run dev

# Build for production
npm run build</code></pre>
            </div>
        </section>

        <section class="section">
            <h2>Core Implementation</h2>
            
            <div class="alert">
                <div class="alert-title">üöÄ FusionAuth React SDK</div>
                <p>This example uses the official @fusionauth/react-sdk for streamlined integration</p>
            </div>

            <div class="code-block">
                <div class="code-header">
                    <span class="code-title">App.js</span>
                    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                </div>
                <pre><code class="language-javascript">import React from 'react';
import { FusionAuthProvider, useAuth } from '@fusionauth/react-sdk';
import './App.css';

// Configure FusionAuth Provider
const fusionAuthConfig = {
  clientId: process.env.REACT_APP_FUSIONAUTH_CLIENT_ID,
  serverUrl: process.env.REACT_APP_FUSIONAUTH_URL,
  redirectUri: window.location.origin + '/oauth-callback',
  postLogoutRedirectUri: window.location.origin,
  scope: 'openid profile email offline_access',
  responseType: 'code',
  shouldAutoRefresh: true,
  autoRefreshSecondsBeforeExpiry: 60,
  onRedirectSuccess: (state) => {
    console.log('Login successful', state);
  },
  onRedirectFailure: (error) => {
    console.error('Login failed', error);
  }
};

// Protected Dashboard Component
function Dashboard({ user, onLogout }) {
  return (
    &lt;div className="dashboard"&gt;
      &lt;div className="user-card"&gt;
        &lt;img 
          src={user.picture || '/default-avatar.png'} 
          alt={user.name} 
          className="user-avatar"
        /&gt;
        &lt;h2&gt;Welcome, {user.name}!&lt;/h2&gt;
        &lt;p className="user-email"&gt;{user.email}&lt;/p&gt;
        
        &lt;div className="user-details"&gt;
          &lt;h3&gt;Profile Information&lt;/h3&gt;
          &lt;dl&gt;
            &lt;dt&gt;User ID:&lt;/dt&gt;
            &lt;dd&gt;{user.sub}&lt;/dd&gt;
            &lt;dt&gt;Roles:&lt;/dt&gt;
            &lt;dd&gt;{user.roles?.join(', ') || 'None'}&lt;/dd&gt;
            &lt;dt&gt;Last Login:&lt;/dt&gt;
            &lt;dd&gt;{new Date().toLocaleString()}&lt;/dd&gt;
          &lt;/dl&gt;
        &lt;/div&gt;
        
        &lt;button onClick={onLogout} className="btn-logout"&gt;
          Sign Out
        &lt;/button&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  );
}

// Login Page Component
function LoginPage({ onLogin }) {
  return (
    &lt;div className="login-page"&gt;
      &lt;div className="login-card"&gt;
        &lt;h1&gt;Welcome to FusionAuth SSO&lt;/h1&gt;
        &lt;p&gt;Sign in to access your account&lt;/p&gt;
        
        &lt;button onClick={onLogin} className="btn-login"&gt;
          &lt;svg className="icon" viewBox="0 0 20 20" fill="currentColor"&gt;
            &lt;path fillRule="evenodd" d="M18 8a6 6 0 01-7.743 5.743L10 14l-1 1-1 1H6v2H2v-4l4.257-4.257A6 6 0 1118 8zm-6-4a1 1 0 100 2 2 2 0 012 2 1 1 0 102 0 4 4 0 00-4-4z" clipRule="evenodd" /&gt;
          &lt;/svg&gt;
          Sign in with FusionAuth
        &lt;/button&gt;
        
        &lt;div className="login-features"&gt;
          &lt;div className="feature"&gt;
            &lt;span className="feature-icon"&gt;üîí&lt;/span&gt;
            &lt;span&gt;Secure Authentication&lt;/span&gt;
          &lt;/div&gt;
          &lt;div className="feature"&gt;
            &lt;span className="feature-icon"&gt;‚ö°&lt;/span&gt;
            &lt;span&gt;Single Sign-On&lt;/span&gt;
          &lt;/div&gt;
          &lt;div className="feature"&gt;
            &lt;span className="feature-icon"&gt;üõ°Ô∏è&lt;/span&gt;
            &lt;span&gt;Enterprise Security&lt;/span&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  );
}

// Main App Component
function App() {
  const { user, login, logout, isAuthenticated, isLoading, error } = useAuth();
  
  // Show loading state
  if (isLoading) {
    return (
      &lt;div className="loading-container"&gt;
        &lt;div className="spinner"&gt;&lt;/div&gt;
        &lt;p&gt;Authenticating...&lt;/p&gt;
      &lt;/div&gt;
    );
  }
  
  // Show error state
  if (error) {
    return (
      &lt;div className="error-container"&gt;
        &lt;h2&gt;Authentication Error&lt;/h2&gt;
        &lt;p&gt;{error.message}&lt;/p&gt;
        &lt;button onClick={() =&gt; window.location.reload()}&gt;
          Try Again
        &lt;/button&gt;
      &lt;/div&gt;
    );
  }
  
  // Render based on authentication state
  return (
    &lt;div className="app"&gt;
      {isAuthenticated ? (
        &lt;Dashboard user={user} onLogout={logout} /&gt;
      ) : (
        &lt;LoginPage onLogin={login} /&gt;
      )}
    &lt;/div&gt;
  );
}

// Wrap App with FusionAuth Provider
export default function AppWithAuth() {
  return (
    &lt;FusionAuthProvider {...fusionAuthConfig}&gt;
      &lt;App /&gt;
    &lt;/FusionAuthProvider&gt;
  );
}</code></pre>
            </div>
        </section>

        <section class="section">
            <h2>Environment Configuration</h2>
            <div class="code-block">
                <div class="code-header">
                    <span class="code-title">.env.local</span>
                    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                </div>
                <pre><code class="language-bash"># FusionAuth Configuration
REACT_APP_FUSIONAUTH_URL=http://localhost:9011
REACT_APP_FUSIONAUTH_CLIENT_ID=your-client-id-here
REACT_APP_FUSIONAUTH_TENANT_ID=your-tenant-id-here

# Optional: API Backend
REACT_APP_API_URL=http://localhost:3001/api

# Feature Flags
REACT_APP_ENABLE_MFA=true
REACT_APP_ENABLE_SOCIAL_LOGIN=true</code></pre>
            </div>
        </section>

        <section class="section">
            <h2>Advanced Features</h2>
            
            <h3 style="margin-top: 2rem; margin-bottom: 1rem;">Protected Routes with React Router</h3>
            <div class="code-block">
                <div class="code-header">
                    <span class="code-title">ProtectedRoute.tsx</span>
                    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                </div>
                <pre><code class="language-typescript">import { Navigate, useLocation } from 'react-router-dom';
import { useAuth } from '@fusionauth/react-sdk';

interface ProtectedRouteProps {
  children: React.ReactNode;
  requiredRoles?: string[];
}

export function ProtectedRoute({ children, requiredRoles }: ProtectedRouteProps) {
  const { isAuthenticated, user, isLoading } = useAuth();
  const location = useLocation();
  
  if (isLoading) {
    return &lt;LoadingSpinner /&gt;;
  }
  
  if (!isAuthenticated) {
    return &lt;Navigate to="/login" state={{ from: location }} replace /&gt;;
  }
  
  if (requiredRoles && requiredRoles.length > 0) {
    const hasRequiredRole = requiredRoles.some(role => 
      user?.roles?.includes(role)
    );
    
    if (!hasRequiredRole) {
      return &lt;Navigate to="/unauthorized" replace /&gt;;
    }
  }
  
  return &lt;&gt;{children}&lt;/&gt;;
}</code></pre>
            </div>
        </section>

        <section class="section">
            <h2>Key Features</h2>
            <ul style="color: var(--text-secondary); list-style: none; padding: 0;">
                <li style="margin-bottom: 0.75rem;">‚úÖ Complete OAuth 2.0/OIDC implementation with PKCE</li>
                <li style="margin-bottom: 0.75rem;">‚úÖ Automatic token refresh before expiry</li>
                <li style="margin-bottom: 0.75rem;">‚úÖ Protected route components with role-based access</li>
                <li style="margin-bottom: 0.75rem;">‚úÖ Social login integration (Google, Facebook, etc.)</li>
                <li style="margin-bottom: 0.75rem;">‚úÖ Multi-factor authentication support</li>
                <li style="margin-bottom: 0.75rem;">‚úÖ Cross-domain SSO capability</li>
                <li style="margin-bottom: 0.75rem;">‚úÖ TypeScript definitions included</li>
                <li style="margin-bottom: 0.75rem;">‚úÖ Production build optimization</li>
            </ul>
        </section>

        <section class="section">
            <h2>Next Steps</h2>
            <div class="nav-links">
                <a href="../node-quickstart/" class="btn btn-secondary">‚Üê Node.js Example</a>
                <a href="../../docs-samples/" class="btn btn-secondary">Documentation Samples ‚Üí</a>
                <a href="https://fusionauth.io/docs/sdks/react" class="btn btn-primary" target="_blank">React SDK Docs</a>
            </div>
        </section>

        <footer class="footer">
            <p>&copy; 2025 AIgent - FusionAuth Documentation Portfolio</p>
        </footer>
    </div>

    <script>
        hljs.highlightAll();
        
        function copyCode(button) {
            const codeBlock = button.closest('.code-block').querySelector('code');
            const text = codeBlock.textContent;
            
            navigator.clipboard.writeText(text).then(() => {
                button.textContent = 'Copied!';
                button.style.color = '#34a853';
                setTimeout(() => {
                    button.textContent = 'Copy';
                    button.style.color = '';
                }, 2000);
            }).catch(err => {
                console.error('Failed to copy:', err);
            });
        }
    </script>
</body>
</html>